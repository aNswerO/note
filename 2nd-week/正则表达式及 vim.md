# 正则表达式
>由一类特殊字符及文本字符所编写的模式，其中有些字符（元字符）不表示字符字面意义，而表示控制或通配的功能
## 元字符分类：
+ 字符匹配： 

|元字符|定义|
|:---|:----:|
|. |匹配任意单个字符|
|[ ] |匹配指定范围内的任意单个字符，示例：[wang][0-9] [a-z] [a-zA-Z]|
|.*|任意长度的任意字符|
|[^] |匹配指定范围外的任意单个字符|
|[:alnum:] |字母和数字|
|[:alpha:] |代表任何英文大小写字符，亦即 A-Z, a-z|
|[:lower:] |小写字母 |
|[:upper:] |大写字母|
|[:blank:] |空白字符（空格和制表符）|
|[:space:] |水平和垂直的空白字符（比[:blank:]包含的范围广）|
|[:cntrl:] |不可打印的控制字符（退格、删除、警铃...）|
|[:digit:] |十进制数字|
|[:xdigit:]|十六进制数字|
|[:graph:] |可打印的非空白字符|
|[:print:] |可打印字符|
|[:punct:] |标点符号|
+ 匹配次数：用在需要指定次数的字符后面，用于指定前面字符要匹配的次数

|元字符|定义|
|:-----|:-----:|
|*|匹配前面的字符0次或多次（贪婪模式，能匹配多少次就匹配多少次）
|\?|匹配前面的字符0~1次|
|\+|匹配前面的字符至少1次|
|\{n\}|匹配前面的字符n次|
|\{m,n\}|匹配前面的字符至少m次，至多n次|
|\{,n\}|匹配前面的字符至多n次
|\{m,\}&#160;&#160;&#160;&#160;&#160;&#160;|匹配前面的字符至少m次
+ 位置锚定：定位要匹配内容出现的位置

|元字符|定义|
|:---|:----:|
|^|行首锚定|
|$|行尾锚定|
|^PATTERN$|以PATTERN为指定内容匹配整行，比如用^$匹配空行
|\>或\b|词首锚定|
|\<或\b|词尾锚定|
|\<PATTERN\>|以PATTERN为内容匹配整个单词|

+ 分组：  
    + \（\）将一个或多个字符当作一个整体处理
分组括号中的模式所匹配的内容会被记录到内部变量中，并以\1，\2，\3...命名
    + \\# 表示从左起第#个左括号以及与之匹配右括号之间的模式所匹配的内容
    + 后向引用：引用前面分组括号中的模式所匹配的内容
# vim
## 打开文件：
```
    vim [OPTIONS]... FILE
    用vim编辑器打开FILE文件，若此文件不存在则在存盘后创建
        +#：打开文件后，光标处于第#行
        +/PATTERN：打开文件后光标处于第一个匹配PATTERN的行的行首
        -b：二进制打开文件
        -d FILE1 FILE2：比较多个文件
        -m：打开只读文件
        -e或ex file：直接进入EX模式
```
## 三种模式：
+ normal模式：
    + 切换至EX模式：
        + ：
    + 切换至insert模式：
        + i ：在光标所在处输入
        + I ：在当前光标所在行的行首输入
        + a ：在当前光标所在处后输入
        + A ：在当前光标所在行的行尾输入
        + o ：在当前光标所在行的下方一行输入
        + O :在当前光标所在行的上方一行输入
    + 光标跳转：
        + 字符间跳转
            + h：向左
            + l：向右
            + j：向上
            + k：向下
            + #COMMAND:跳转#指定的个数的字符
        + 单词间跳转：
            + w：跳转到下一个单词的词首
            + e：跳转到当前或下一个单词的词尾
            + b：跳转到当前或下一个单词的词首
            + #COMMAND:指定跳转的单词数#
        + 当前页跳转：
            + H：页首
            + M：页中间行
            + L：页尾
            + zt：将光标所在行移到屏幕顶端
            + zz：将光标所在行移到屏幕中间
            + zb：将光标所在行移到屏幕底端
        + 行首行尾跳转：
            + ^：跳转到行首第一个非空字符
            + 0：跳转到行首
            + $：跳转到行尾
        + 行间移动：
            + #G：跳转至第#行
            + G：跳转到最后一行
            + gg：跳转到第一行
        + 句间移动：
            + (：上一句
            + )：下一句
        + 段落间移动：
            + {：上一段
            + }：下一段
        + 翻屏：
            + ctrl+f：向文件尾部翻一屏
            + ctrl+b：向文件首部翻一屏
            + ctrl+d：向文件尾部翻半屏
            + ctrl+u：向文件首部翻半屏
    + 字符编辑：
        + x：删除光标处的字符
        + #x：删除光标处起#个字符
        + xp：交换光标处字符与后一个字符的位置
        + ~：改变大小写
        + J：删除当前行后的换行符
    + 删除：
        + d：删除命令，可结合光标跳转字符实现范围删除
        + d$：删除到行尾
        + d^：删除到行首第一个非空字符
        + d0：删除到行首
        + dw：从光标处删除到下个单词的词首
        + de：删除到光标所在单词的词尾
        + db：从光标处删除到光标所在单词词首
        + dd：删除光标所在的行
        + #dd：从光标所在行开始向下删除多行
        + D：从光标处删除到行尾，同d$
    + 替换：
        + r：替换光标处的字符
        + R：切换成**REPLACE**模式，可替换多个字符
    + 复制：
        + y：复制命令，可结合光标跳转字符实现范围辅助
        + y$：复制到行尾
        + y0：复制到行首
        + y^：复制到行首第一个非空字符
        + ye：复制从光标所在位置到单词的词尾
        + yw：从光标处复制到下个单词的词首
        + yb：从光标处复制到光标所在单词词首
        + yy：复制整行
        + #yy：复制#行
        + Y：复制整行
    + 粘贴：
        + p：缓冲区存的如果为整行，则粘贴当前光标所在行的下方；否则，则粘贴至当前光标所在处的**后面**
        + P：缓冲区存的如果为整行，则粘贴当前光标所在行的下方；否则，则粘贴至当前光标所在处的**前面**
    + 改变：
        + c：修改后切换至**insert**模式
        + c$：改变从光标处开始到行尾的内容
        + c^：改变从行首第一个非空字符到光标处的内容
        + c0：改变从行首到光标处的内容
        + cb：改变从光标处到光标所在单词词首的内容
        + ce：改变从光标所在位置到单词的词尾的内容
        + cw：改变从光标处到下个单词的词首的内容
        + cc：删除当前行并输入新内容
        + C：删除当前光标到行尾，并切换成**insert**模式
    + 查找：
        /PATTERN：从光标处到文件尾部查找
        ?/：PATTERN：从光标处向文件首部查找
        n：与命令方向同向
        N：与命令方向反向
    + 撤销更改：
        + u：撤销最近的更改
        + #u：撤销之前多次修改
        + U：撤销光标落在这行后所有针对此行的修改
        + ctrl-r：重做最后的撤销
        + .：重复前一个操作
        + #.：重复前一个动作多次
+ insert模式：
    + 切换至normal模式：ESC

+ extended模式：
    + E切换至normal模式：SC或enter
    + w：写入磁盘
    + r FILENAME：读取文件内容到当前文件中
    + w FILENAME：将当前文件内容写入到另一文件中
    + !COMMAND：切换至shell窗口执行命令（别名无效），按enter回到vim编辑界面
    + r!COMMAND：读入执行的命令的结果
+ EX模式的地址界定：
    + #：具体第#行
    + #，#：左侧#表示起始行，右侧#表示结束行
    + #，+#：从左侧#表示起始行，右侧+#表示较之左侧#多了#行
    + .：当前行
    + $：最后一行
    + $-#：表示倒数第#+1行
    + %：全文
    + /PATTERN/：匹配PATTERN的行
    + /PATTERN1/,/PATTERN2/：从第一次匹配到PATTERN1的行开始，到第一次匹配到PATTERN2的行结束
+ 查找并替换：
    ```
        s/要查找的内容/替换为的内容/修饰符
    ```
>“要查找的内容”可以使用**模式**匹配；  
“替换为的内容”不能使用**模式**匹配，但可以使用后向引用，还可以使用“&”引用前面查找时查找到的整个内容。  
修饰符：I：忽略大小写  ；g：全局替换（默认情况下只替换第一次出现）；gc 全局替换，每次替换前询问。  
分隔符：“/”可替换为其他字符
## 关闭文件：
+ EX模式：
    + :q  ：退出
    + :wq  ：保存退出
    + :q!  ：不保存退出
    + :x  ：保存退出
+ 命令模式：
    + ZZ：保存退出
    + ZQ：不保存退出
## 定制vim的工作特性：
+ 修改配置文件：永久有效
    + 全局：/etc/vimrc
    + 单个用户：~/.vimrc
+ 在EX模式修改：只对当前vim进程有效
+ 行号：
    + 显示行号：set nu  （set number）
    + 取消显示：set nonu   （set nonumber）
+ 忽略字符大小写：
    + 启用：set ic   （set ignorecase）
    + 禁用：set noic   （set noignorecase）
+ 自动缩进：
    + 启用：set ai   （set autoindent）
    + 禁用：set noai   （set noautoindent）
+ 复制保留格式：
    + 启用：set paste
    + 禁用：set nopaste
+ 显示tab（^I）和换行符$：
    + 启用：set list
    + 禁用：set nolist
+ 高亮搜索：
    + 启用：set hlsearch
    + 禁用：set nohlsearch
+ 语法高亮：
    + 启用：syntax on
    + 禁用：syntax off
+ 文件格式：
    + 启用Windows格式：set fileformat=dos
    + 启用Unix格式：set fileformat=unix
    + 简写：set ff=dos|unix
+ 设置文本宽度：
    + set textwidth=#：设置文本宽度为#
    + set wrapmargin=#：当字符距离边界10个字符时，自动换行（前提自动换行要开启）
+ 设置光标所在行的标识线：
    + 启用：set cul   （set cursorline）
    + 禁用：set nocul   （set nocursorline）
